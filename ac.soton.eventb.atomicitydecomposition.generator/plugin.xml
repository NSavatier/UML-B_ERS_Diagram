<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>


   <!--extension
         point="org.eclipse.ui.handlers">
      <handler
            class="ac.soton.eventb.atomicitydecomposition.generator.actions.GenerateAction"
            commandId="ac.soton.eventb.atomicitydecomposition.generator.generateEventB">
         <enabledWhen>
            <and>
               <with
                     variable="activeEditor">
                  <instanceof
                        value="ac.soton.eventb.atomicitydecomposition.diagram.part.AtomicitydecompositionDiagramEditor">
                  </instanceof>
               </with>
            </and>
         </enabledWhen>
      </handler>
     </extension-->
     
     
     
     

     <extension
         id="ac.soton.eventb.emf.diagrams.generator"
         point="ac.soton.eventb.emf.diagrams.generator.rule">
      <generator
            generatorID="ac.soton.eventb.atomicitydecomposition.generator"
            name="Atomicity Decomposition Generator"
            root_source_class="FlowDiagram"
            sourcePackage="http://soton.ac.uk/models/eventb/atomicitydecomposition">
          <rule
               name="TR_leaf0_nlLeaf_var"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf0_nlLeaf_var"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf1_nlLeaf_var"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf1_nlLeaf_var"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf2_nrnpLeaf_tInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf2_nrnpLeaf_tInv"
               source_class="Leaf">
          </rule>
           <rule
               name="TR_leaf3_rLeaf_tInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf3_rLeaf_tInv"
               source_class="Leaf">
          </rule>
           <rule
               name="TR_leaf4_pLeaf_sInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf4_pLeaf_sInv"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf5_sLeaf_gInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf5_sLeaf_gInv"
               source_class="Leaf">
          </rule> 
		  <rule
               name="TR_leaf6_sLeaf_rEve"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf6_sLeaf_rEve"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf7_dLeaf_nrEve"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf7_dLeaf_nrEve"
               source_class="Leaf">
          </rule>             
          <rule
               name="TR_leaf8_pLeaf_sGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf8_pLeaf_sGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf9_nrLeaf_dGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf9_nrLeaf_dGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf10_rLeaf_dGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf10_rLeaf_dGrd"
               source_class="Leaf">
          </rule>                          
          <rule
               name="TR_InputExpression_rLeaf_dGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_InputExpression_rLeaf_dGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf11_nrLeaf_dAct"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf11_nrLeaf_dAct"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf12_rLeaf_dAct"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf12_rLeaf_dAct"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_xor1_sXor_gInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_xor1_sXor_gInv"
               source_class="Xor">
          </rule>
          <rule
               name="TR_xor2_sxor_xInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_xor2_sxor_xInv"
               source_class="Xor">
          </rule> 
          <rule
               name="TR_xor3_xLeaf_xGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_xor3_xLeaf_xGrd"
               source_class="Leaf">
          </rule> 
          <rule
               name="TR_one1_sOne_gInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_one1_sOne_gInv"
               source_class="One">
          </rule>
          <rule
               name="TR_one2_oLeaf_oInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_one2_oLeaf_oInv"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_one3_oLeaf_oGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_one3_oLeaf_oGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_rep_rLeaf_rInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_rep_rLeaf_rInv"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_par1_lLeaf_lGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_par1_lLeaf_lGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_loop1_lLeaf_lGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_loop1_lLeaf_lGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_loop2_nlLeaf_lGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_loop2_nlLeaf_lGrd"
               source_class="Leaf">
          </rule> 
          <rule
               name="TR_loop3_loop_event"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_loop3_loop_event"
               source_class="Loop">
          </rule>
          <rule
               name="TR_weak1_wLeaf_sInv"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_weak1_wLeaf_sInv"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_weak2_wLeaf_sGrd"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_weak2_wLeaf_sGrd"
               source_class="Leaf">
          </rule>
          <rule
               name="TR_leaf6_sLeaf_rEve_addRefines"
               rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_leaf6_sLeaf_rEve_addRefines"
               source_class="Leaf"> 
          </rule>
          <rule
                name="TR_par2_nlLeaf_lGrd"
                rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_par2_nlLeaf_lGrd"
                source_class="Leaf">
          </rule>
          <rule
                name="TR_par3_nlLeaf_pInv"
                rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_par3_nlLeaf_pInv"
                source_class="Par">
          </rule>
          <rule
                name="TR_loop4_loop_rInv"
                rule_class="ac.soton.eventb.atomicitydecomposition.generator.rules.TR_loop4_loop_rInv"
                source_class="Loop">
          </rule>                                                                                                                                            
     </generator>
	</extension>

	<extension
     	point="ac.soton.eventb.emf.diagrams.validator">
		<validator
			editorClass="ac.soton.eventb.atomicitydecomposition.diagram.part.AtomicitydecompositionDiagramEditor"
			name="ERS validator"
			validatorClass="ac.soton.eventb.atomicitydecomposition.generator.validator.Validator">
		</validator>
	</extension>
 <extension
       point="ac.soton.eventb.emf.diagrams.generator.rule">
 </extension>
     
	
	
</plugin>
